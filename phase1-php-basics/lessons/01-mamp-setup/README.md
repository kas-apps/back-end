# Lesson 01: MAMP環境のセットアップ 🛠️

**学習目標**：ローカル開発環境（MAMP）をセットアップして、最初のPHPファイルを実行できるようになる！

---

## 📖 このレッスンで学ぶこと

- MAMPのダウンロードとインストール
- MAMPの起動と停止
- htdocsフォルダの理解と場所の確認
- 最初のPHPファイル作成（Hello World!）
- localhostへのアクセス方法
- エラーログの確認方法
- phpinfo()での環境確認
- よくあるトラブルシューティング

---

## 🎯 なぜMAMP環境をセットアップするの？（Why）

### 自分のパソコンで開発できる＝最高に便利！

想像してみて！レストランのシェフになりたいとき、最初から実際のレストランで練習する？それとも、自分の家のキッチンで練習する？

**自分の家のキッチン（ローカル環境）なら**：
- 何度失敗してもOK
- 材料費がかからない
- 誰にも見られない
- 好きな時間に練習できる

バックエンド開発も同じ！**MAMP**を使えば、自分のパソコンが「練習用のレストラン」になるんだ！✨

### MAMP環境の利点

✅ **完全無料**
- サーバー代がかからない
- 何度でも試せる

✅ **オフラインでOK**
- インターネット接続不要
- どこでも開発できる

✅ **安全に実験できる**
- 外部に公開されない
- セキュリティの心配なし

✅ **本番環境に近い**
- 多くのWebサーバーと同じ構成
- 学んだことがそのまま本番で使える

### バックエンド開発における重要性

ローカル開発環境は、バックエンドエンジニアの「工房」みたいなもの！

- データベースを試せる
- PHPコードを何度でも書き直せる
- エラーが出ても誰にも迷惑かけない
- 本番環境にデプロイする前に完璧に仕上げられる

Phase 0で学んだように、MAMPには：
- **Apache**（Webサーバー）
- **MySQL**（データベース）
- **PHP**（プログラミング言語）

が全部入っているから、インストールするだけですぐに開発を始められる！

---

## 🛠️ MAMPの基礎知識（What）

### MAMPとは？

**MAMP** = **M**ac / **A**pache / **M**ySQL / **P**HP

Phase 0で学んだように、MAMPは「バックエンド開発に必要な道具を全部入りにしたツールボックス」だよ！

### 各コンポーネントの役割（復習）

#### Apache（アパッチ）🚪
**役割**：Webサーバー（お店の入口）

- ブラウザからのリクエストを受け付ける
- PHPファイルを実行する
- 実行結果をブラウザに返す

#### MySQL（マイエスキューエル）🗄️
**役割**：データベース（倉庫）

- データを保存・管理する
- Phase 3で詳しく学ぶよ！

#### PHP（ピーエイチピー）💻
**役割**：プログラミング言語（シェフ）

- ビジネスロジックを処理する
- データベースとやり取りする
- HTMLを生成する

### htdocsフォルダって何？

**htdocs**は、MAMPの「作業場所」！

レストランで言うと「厨房」みたいな場所。ここにPHPファイルを置くと、ブラウザでアクセスできるようになるよ！

**場所**：
- **Mac**: `/Applications/MAMP/htdocs/`
- **Windows**: `C:\MAMP\htdocs\`

このフォルダにファイルを置くと、`http://localhost:8888/ファイル名.php` でアクセスできる！

### localhostとは？

**localhost**は、「あなたのパソコン自身」を指す特別なアドレス！

- **localhost** = あなたのパソコン
- **8888** = MAMPが使うポート番号（お店の入口番号）
- `http://localhost:8888/` = あなたのパソコンのMAMPサーバーにアクセス

外部のサーバーではなく、自分のパソコン内で完結しているから、超速い！✨

### セキュリティリスクと注意点

ローカル環境だから、セキュリティリスクは少ないけど、いくつか注意点があるよ：

⚠️ **ポート8888が開いていることに注意**
- 同じネットワークの人がアクセスできる可能性がある
- カフェのWi-Fiなどでは注意

💡 **本番環境とは違う設定**
- MAMPのデフォルト設定は開発用
- 本番環境では異なる設定が必要（Phase 6以降で学ぶ）

🔒 **パスワードの管理**
- MAMPのMySQLパスワードはデフォルトで「root」
- ローカル環境だからOKだけど、本番では絶対ダメ！

---

## 💻 実際にMAMPをセットアップしよう！（How）

### ステップ1：MAMPのダウンロード

#### Mac版

1. MAMP公式サイトにアクセス
   - https://www.mamp.info/

2. 「Free Download」をクリック

3. Mac版をダウンロード
   - **MAMP**（無料版）をダウンロード
   - MAMP PRO（有料版）は不要！

#### Windows版

1. 同じく公式サイトにアクセス
   - https://www.mamp.info/

2. Windows版をダウンロード

### ステップ2：MAMPのインストール

#### Mac

1. ダウンロードした `.pkg` ファイルをダブルクリック

2. インストーラーの指示に従う
   - 「続ける」をクリック
   - 「インストール」をクリック
   - パスワードを入力（Macのログインパスワード）

3. インストール完了！

インストール先：`/Applications/MAMP/`

#### Windows

1. ダウンロードした `.exe` ファイルをダブルクリック

2. インストーラーの指示に従う
   - デフォルト設定でOK

3. インストール完了！

インストール先：`C:\MAMP\`

### ステップ3：MAMPの起動

#### Macの場合

1. Finderで「アプリケーション」→「MAMP」を開く

2. 「MAMP」（象のアイコン）をダブルクリック

3. MAMPウィンドウが開く

4. 「Start Servers」ボタンをクリック
   - Apache と MySQL が起動する
   - ライトが緑色になればOK！✨

#### Windowsの場合

1. スタートメニューから「MAMP」を開く

2. 「Start Servers」ボタンをクリック

3. Apache と MySQL が起動する

### ステップ4：動作確認

MAMPが起動したら、自動的にブラウザが開いて、スタートページが表示されるよ！

もし開かない場合は、ブラウザで以下にアクセス：

```
http://localhost:8888/MAMP/
```

このページが表示されればOK！🎉

**表示されるべき情報**：
- PHP バージョン
- MySQL ステータス
- Apache ステータス

[スクリーンショット予定：MAMPスタートページ]

### ステップ5：htdocsフォルダの確認

#### Macの場合

Finderで以下の場所に移動：

```
/Applications/MAMP/htdocs/
```

**ショートカット**：
- MAMPウィンドウの「WebStart」ページから「Open WebStart page」の隣の「htdocs」をクリック

#### Windowsの場合

エクスプローラーで以下の場所に移動：

```
C:\MAMP\htdocs\
```

この `htdocs` フォルダが、あなたの作業場所になるよ！

### ステップ6：最初のPHPファイルを作成しよう！

#### ファイルの作成

1. テキストエディタを開く（VS Code推奨）

2. 以下のコードを書く：

```php
<?php
// 最初のPHPプログラム！
echo "Hello, World!";
?>
```

**コードの説明**：

- `<?php` ... `?>`：PHPコードのブロック（「ここからPHPだよ」というマーク）
- `//`：コメント（プログラムに影響しない、メモ書き）
- `echo`：文字列を出力する命令
- `"Hello, World!"`：出力する文字列
- `;`：命令の終わり（セミコロン、必須！）

3. ファイル名を `hello.php` として保存
   - 保存場所：`htdocs` フォルダの中

**ファイル構成**：
```
htdocs/
└── hello.php
```

#### ブラウザでアクセス

ブラウザで以下のURLにアクセス：

```
http://localhost:8888/hello.php
```

**表示されるべき結果**：

```
Hello, World!
```

これが表示されたら成功！🎉

おめでとう！あなたは最初のPHPプログラムを実行できたよ！✨

### ステップ7：phpinfo()で環境確認

PHPの詳細情報を確認するために、`phpinfo()` を使ってみよう！

#### ファイルの作成

1. 新しいファイルを作成

2. 以下のコードを書く：

```php
<?php
// PHP環境情報を表示
phpinfo();
?>
```

3. ファイル名を `info.php` として保存
   - 保存場所：`htdocs` フォルダの中

#### ブラウザでアクセス

```
http://localhost:8888/info.php
```

**表示されるべき結果**：

PHPの詳細情報がズラッと表示される！

- PHP Version（PHPのバージョン）
- System（OS情報）
- Server API（Webサーバー情報）
- その他たくさんの設定情報

[スクリーンショット予定：phpinfo()の表示]

**確認すべきポイント**：
- ✅ PHP Version：7.4以上（8.0以上推奨）
- ✅ Server API：Apache
- ✅ Loaded Configuration File：設定ファイルのパス

これで、PHP環境が正しくセットアップされていることが確認できた！

### ステップ8：エラーログの確認方法

エラーが出たときは、エラーログを見ると原因がわかるよ！

#### エラーログの場所

**Mac**：
```
/Applications/MAMP/logs/php_error.log
```

**Windows**：
```
C:\MAMP\logs\php_error.log
```

#### エラーログの見方

テキストエディタで開くと、エラーの詳細が記録されている：

```
[日時] PHP Parse error: syntax error, unexpected '}' in /path/to/file.php on line 10
```

**読み方**：
- `Parse error`：エラーの種類（構文エラー）
- `unexpected '}'`：予期しない `}` がある
- `on line 10`：10行目でエラー

エラーメッセージをAIに見せれば、原因と修正方法を教えてくれるよ！

---

## 🤖 バイブコーディング実践（最重要セクション！）

### AIへの指示例

AIを使ってMAMP環境で動くPHPファイルを作成してもらおう！

#### 良い指示の例

```text
「MAMPで動く、現在の日時を表示するPHPファイルを作ってください。
ファイル名はdate.phpで、日本語で『現在の日時：』と表示してから、
日時をわかりやすい形式で表示してください。」
```

**なぜ良い？**
- ✅ 環境を明示（MAMP）
- ✅ 具体的な機能を指示（現在の日時を表示）
- ✅ ファイル名を指定
- ✅ 表示形式も指示（日本語で、わかりやすく）

#### 曖昧な指示の例

```text
「PHPファイルを作って」
```

**なぜダメ？**
- ❌ 何をするファイルか不明
- ❌ どんな機能が必要か不明
- ❌ AIが適当に作ってしまう

#### もう一つの良い指示例

```text
「自分の名前を変数に入れて、『こんにちは、○○さん！』と表示する
PHPファイルを作ってください。ファイル名はgreeting.phpで、
コメントも日本語で入れてください。」
```

**なぜ良い？**
- ✅ 変数の使い方も含めて指示
- ✅ 出力形式を明確に指定
- ✅ コメントの言語も指定

### 生成されたコードのチェックポイント

AIが生成したコードを、以下のポイントでチェックしよう！

#### セキュリティチェック

このレッスンの段階では、まだデータベースやユーザー入力を扱わないから、セキュリティチェックは最小限でOK！

後のレッスン（特にLesson 04）でセキュリティを重点的に学ぶよ。

#### 機能チェック

- [ ] `<?php` と `?>` でPHPコードが囲まれているか
- [ ] `echo` や `print` で出力しているか
- [ ] セミコロン `;` が各命令の最後にあるか
- [ ] 指示した機能が実装されているか

#### コード品質チェック

- [ ] **コメント**：重要な部分に日本語コメントがあるか
- [ ] **変数名**：わかりやすい名前か（例：`$name`、`$currentDate`）
- [ ] **インデント**：コードが読みやすく整形されているか

#### 実際のチェック例

**AIが生成したコード**：

```php
<?php
// 現在の日時を取得
$currentDate = date('Y年m月d日 H:i:s');

// 日時を表示
echo "現在の日時：" . $currentDate;
?>
```

**チェック結果**：
- ✅ `<?php ?>` がある
- ✅ セミコロンがある
- ✅ コメントがある（日本語）
- ✅ 変数名がわかりやすい（`$currentDate`）
- ✅ 機能が正しい（日時を表示）

**このコードは合格！** 🎉

### よくある問題と修正方法

#### 問題1：真っ白なページが表示される

**症状**：
```
ブラウザにアクセスしたら、何も表示されない（真っ白）
```

**原因**：
- PHPの構文エラー
- `echo` を忘れた
- ファイルが保存されていない

**確認方法**：
1. ブラウザで「ページのソースを表示」を選択
2. エラーログを確認

**修正方法**：
```php
// 悪い例（echoがない）
<?php
"Hello, World!";  // これだと表示されない
?>

// 良い例（echoがある）
<?php
echo "Hello, World!";  // これで表示される
?>
```

**AIへの修正指示**：
```text
「ブラウザに何も表示されません。echoを使って文字列を出力するように修正してください」
```

#### 問題2：PHPコードがそのまま表示される

**症状**：
```
<?php echo "Hello"; ?>
```
というコードがそのままブラウザに表示される

**原因**：
- ファイルの拡張子が `.php` ではない（`.html` や `.txt` など）
- MAMPが起動していない

**修正方法**：
1. ファイルの拡張子を `.php` に変更
2. MAMPが起動しているか確認
3. `http://localhost:8888/ファイル名.php` で正しくアクセスしているか確認

#### 問題3：`Parse error` が表示される

**症状**：
```
Parse error: syntax error, unexpected '}' in /path/to/file.php on line 5
```

**原因**：
- セミコロン `;` を忘れた
- `{` と `}` の数が合っていない
- クォート `"` や `'` が閉じていない

**修正例**：

```php
// 悪い例（セミコロンがない）
<?php
echo "Hello"  // ← セミコロンがない！
?>

// 良い例（セミコロンがある）
<?php
echo "Hello";  // ← セミコロンがある！
?>
```

**AIへの修正指示**：
```text
「このエラーが出ました：
Parse error: syntax error, unexpected '}' in /path/to/file.php on line 5

コードはこれです：
[コードを貼り付け]

どこが間違っているか教えてください」
```

#### 問題4：日本語が文字化けする

**症状**：
```
こんにちは → �������
```

**原因**：
- ファイルの文字コードがUTF-8ではない

**修正方法**：
1. テキストエディタの設定で文字コードを「UTF-8」に変更
2. ファイルを保存し直す

**VS Codeの場合**：
- 右下の文字コード表示をクリック
- 「UTF-8で保存」を選択

### カスタマイズポイント

#### ポート番号の変更

デフォルトのポート番号（8888）を変更したい場合：

1. MAMPウィンドウの「Preferences」をクリック
2. 「Ports」タブを選択
3. Apache Portを変更（例：8888 → 8080）
4. 「OK」をクリック
5. サーバーを再起動

#### ドキュメントルートの変更

`htdocs` 以外のフォルダを使いたい場合：

1. 「Preferences」→「Web Server」タブ
2. 「Select」ボタンで好きなフォルダを選択
3. 「OK」をクリック

**注意**：初心者のうちは、デフォルトの `htdocs` を使うのがオススメ！

---

## 💪 演習

実際に手を動かして、MAMP環境に慣れよう！

演習問題はこちら：
👉 **[演習問題を見る](exercises/README.md)**

---

## ✅ まとめ

このレッスンで学んだことを振り返ろう！

### 環境セットアップ

- ✅ MAMPをインストールして起動できる
- ✅ htdocsフォルダの場所がわかる
- ✅ localhostにアクセスできる

### PHPファイルの作成

- ✅ PHPファイルの基本構造がわかる（`<?php ?>`）
- ✅ `echo` で文字列を出力できる
- ✅ ブラウザで実行結果を確認できる

### トラブルシューティング

- ✅ エラーログの場所がわかる
- ✅ よくあるエラーの原因と修正方法がわかる
- ✅ エラーメッセージをAIに見せて質問できる

### バイブコーディング

- ✅ AIに具体的な指示を出せる
- ✅ 生成されたコードをチェックできる
- ✅ エラーが出たときの対処方法がわかる

---

## 🚀 次のステップ

MAMP環境の準備ができたね！おめでとう！🎉

次は**Lesson 02: PHP基礎文法**で、PHPの基本的な書き方を学んでいくよ！

- 変数の使い方
- 条件分岐（if/else）
- ループ（for、while）
- 関数の基本

実際にコードを書いて、どんどん試していこう！

👉 **[Lesson 02: PHP基礎文法へ進む](../02-php-syntax/README.md)**

---

**Let's vibe and code! 🎉**

環境準備はできた！さあ、PHPの世界を楽しもう！
